import{_ as V,r as w,c as b,a as l,w as o,b as n,u as g,o as x,d as p,e as i,E as d,f as y}from"./index-8_VHx90v.js";const k={class:"register-container"},C={__name:"Register",setup(R){const f=g(),a=w({username:"",name:"",email:"",password:""}),_=async()=>{if(!a.value.username||!a.value.name||!a.value.email||!a.value.password){d.warning("请填写完整信息");return}try{const s=new FormData;s.append("username",a.value.username),s.append("name",a.value.name),s.append("email",a.value.email),s.append("password",a.value.password);const e=await y.post("/api/student/register",s);e.data.code===200?(d.success("注册成功，请登录"),f.push("/login")):d.error(e.data.msg||"注册失败")}catch(s){console.error(s),d.error("网络错误")}};return(s,e)=>{const u=n("el-input"),r=n("el-form-item"),m=n("el-button"),v=n("el-form"),c=n("el-card");return x(),b("div",k,[l(c,{class:"box-card"},{header:o(()=>[...e[5]||(e[5]=[i("div",{class:"card-header"},[i("span",null,"学生注册")],-1)])]),default:o(()=>[l(v,{model:a.value,"label-width":"80px"},{default:o(()=>[l(r,{label:"用户名"},{default:o(()=>[l(u,{modelValue:a.value.username,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.username=t),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),l(r,{label:"姓名"},{default:o(()=>[l(u,{modelValue:a.value.name,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.name=t),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),l(r,{label:"邮箱"},{default:o(()=>[l(u,{modelValue:a.value.email,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.email=t),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),l(r,{label:"密码"},{default:o(()=>[l(u,{modelValue:a.value.password,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.password=t),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),l(r,null,{default:o(()=>[l(m,{type:"primary",onClick:_},{default:o(()=>[...e[6]||(e[6]=[p("注册",-1)])]),_:1}),l(m,{onClick:e[4]||(e[4]=t=>s.$router.push("/login"))},{default:o(()=>[...e[7]||(e[7]=[p("返回登录",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}},B=V(C,[["__scopeId","data-v-1fb4d98b"]]);export{B as default};
